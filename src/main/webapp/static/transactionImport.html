
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<head>
    <!--<link href="css/tree.css" rel="stylesheet" type="text/css">-->
    <link href="css/tail.css" rel="stylesheet" type="text/css">
    <link href="js/bstable/css/bootstrap.min.css" rel="stylesheet" type="text/css">

    <style>
        #table thead tr{background-color: #e7f0f6 !important;}
        ul{list-style: none}
        .clear{clear: both}
        .time,.time1{
            position: absolute;
            text-align: center;
            top:32px;
            left: 0;
            width: 300px;
            height: 250px;
            background-color: #fff;
            border: 1px #ccc solid;
            display: none
        }
        #table td{text-align: center !important;}
        .myself,.month,.week{width: 210px;margin: 10px auto 0 auto;display: none}
        .week{margin-top: 72px;width: 300px;font-weight: bold}
        .day{width: 260px;margin: 10px auto 0 auto;display: none}
        .month ul,.week ul{margin: 0 8px}
        .week ul li{float: left;padding: 2px 6px;font-size: 13px;border-radius: 2px;cursor: pointer;margin-right:2px }
        .month ul li{float: left;width:25px;height:25px;line-height:25px;border-radius: 50%;font-size: 14px;cursor: pointer;margin:2px 2px 2px 0;font-weight: bold}
        .myself input,.month input,.week input{width: 200px !important;margin-bottom: 10px;text-align: center}
        .day p,.week p{font-size: 18px;font-weight: 700;color: #2980B9;cursor: pointer;line-height: 30px}
        .weekActive,.monthActive{background-color: #00a0cc;color: #fff}
        .starHour,.starMinute,.endHour,.endMinute{position:relative;width: 36px !important;text-align: center;height: 22px !important;margin:0 2px -7px 2px;border: 1px #ccc solid;border-radius: 2px;}
        .day{line-height: 22px;font-size: 12px}
        .starHour a,.starMinute a,.endHour a,.endMinute a{display: inline-block;position: absolute;width: 32px;height: 22px;border-radius: 2px;left:0;top: 0;text-align: left;padding-left: 4px;cursor: pointer}
        .starHour ul,.starMinute ul,.endHour ul,.endMinute ul{display:none;position: absolute;width: 36px;height: 160px;border-radius: 2px;left:0;top: 24px;border: 1px #ccc solid;overflow-y: auto;padding: 5px 0;cursor: pointer}
    </style>
</head>
<body onload="init()">
<div class="warrant_nav">
    <ul>
        <li class="warrant_active"><span class="step">1</span>数据导入<span class="chevron"></span></li>
        <li><span class="step">2</span>自识别导入<span class="chevron"></span></li>
        <li><span class="step">3</span>数据纠错<span class="chevron"></span></li>
    </ul>

    <div class="clear"></div>
</div>

<div class="warrant_main">
    <div class="tree_left" style="display: block; margin-top:30px;">
        <form>
            <div class="top table2_top">
                <div>
                    <div class="top_out">
                        <table class="table">
                            <tbody>
                            <tr>
                                <td>案件名称：<span></span></td>
						        <td><select class="find_input">
						            <option>成都XX集团洗钱案件</option>
						        </select></td>
                            </tr>
                            <tr>
                            	<td>文件路径：<span></span></td>
                                <td>
							       <div class="input-group" style="width: 247px;height: 28px;">
							       <input id='location' class="form-control" style="width: 247px;height: 28px;" onclick="$('#i-file').click();">
							           <label class="input-group-btn">
							               <input type="button" id="i-check" value="浏览文件" class="btn btn-primary" style="height: 28px;;line-height: 14px" onclick="$('#i-file').click();">
							           </label>
							       </div>
								   <input type="file" name="file" id='i-file'  accept=".xls, .xlsx" onchange="$('#location').val($('#i-file').val());" style="display: none">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="tree_left">
		<div style="width: 50%; float: left; margin-top:30px;">
	        <form>
	            <div class="top table2_top">
	                <div>
	                    <div class="top_out">
	                        <table class="table">
	                            <tbody>
		  							<tr>
			  							<td>账号：<span>*</span></td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
                                    </tr>
                                    <tr>
                                        <td>卡号：<span>*</span></td>
                                      <td>
                                          <input type="text" class="" required>
                                          <button class="btn btn-default" style="height:28px;line-height: 14px;background-color: ">添加</button>
                                          <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
                                      </td>
                                  </tr>
                                  <tr>
                                    <td>交易金额：<span>*</span></td>
                                    <td>
                                      <input type="text" class="" required>
                                      <button class="btn btn-default" style="height:28px;line-height: 14px;background-color: #e7f0f6">添加</button>
                                      <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
                                    </td>
                                   </tr>
		  							<tr>
			  							<td>交易日期：<span>*</span></td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
	                                </tr>
		  					
		  							<tr>
			  							<td>对方账户：<span>*</span></td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
	                                </tr>
		  							<tr>
			  							<td>对方卡号：</td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
	                                </tr>
		  							<tr>
			  							<td>账户余额：<span>*</span></td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
	                                </tr>
		  							<tr>
			  							<td>借贷标志：</td>
		                                <td>
			                                <input type="text" class="" required>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
			                                <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
		                                </td>
                                    </tr>
                                    <tr>
                                        <td>户名行号：</td>
                                      <td>
                                          <input type="text" class="" required>
                                          <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
                                          <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
                                      </td>
                                  </tr>
                                  <tr>
                                    <td>对方行号：</td>
                                  <td>
                                      <input type="text" class="" required>
                                      <button class="btn btn-default" style="height:28px;line-height: 14px">添加</button>
                                      <button class="btn btn-default" style="height:28px;line-height: 14px">删除</button>
                                  </td>
                                 </tr>
	                            </tbody>
	                        </table>
	                    </div>
	                </div>
	            </div>
	        </form>
		</div>
		<div style="width:25%;float:left; margin-top:30px;">
			<span style="font-weight:700">未识别的属性名</span>
			<div class="clear"></div>
			<div style="width:90%;height:400px;border:1px solid #e7f0f6;border-radius: 4px;">
				<span style="display: block">账号名称 </span>
				<span style="display: block">交易时间 </span>
				<span style="display: block">借贷方标志 </span>
				<span style="display: block">金额 </span>
				<span style="display: block">账户余额 </span>
				<span style="display: block">开户行名称 </span>
				<span style="display: block">交易机构名称 </span>
				<span style="display: block">对方户名 </span>
				<span style="display: block">柜员号 </span>
				<span style="display: block">交易流水号 </span>
				<span style="display: block">交易渠道</span>
			</div>

        </div>
        <div style="width:25%;float:left; margin-top:30px;">
			<span style="font-weight:700">需要添加的属性列</span>
			<div class="clear"></div>
			<div style="width:90%;height:400px;border:1px solid #e7f0f6;border-radius: 4px;">
				<span style="display: block">账户</span>
				<span style="display: block">交易金额</span>
				<span style="display: block">借贷方标志 </span>
				<span style="display: block">对方账号 </span>
			</div>
        </div>
    </div>
    <div class="tree_left">
    	<div style="width: 20%; float: left; margin-top:30px;">
	        <form>
    		<button class="btn btn-default" style="display: block;float:right;width:85%;height:28px;line-height: 14px"><span class="glyphicon glyphicon-record"></span>数据检测</button><br>
	            <div class="top table2_top">
	                <div>
	                    <div class="top_out">
	                        <table class="table">
	                            <tbody>
	                            	<tr>
	                            		<td><h5 style="font-weight:1000">规则</h5></td>
	                            	</tr>
		  							<tr>
			  							<td><input type="checkbox"></td>
		                                <td>非数值<span></span></td>
	                                </tr>
	                                <tr>
			  							<td><input type="checkbox"></td>
		                                <td>非日期格式<span></span></td>
	                                </tr>
	                                <tr>
			  							<td><input type="checkbox"></td>
		                                <td>字符过长<span></span></td>
	                                </tr>
	                                <tr>
			  							<td><input type="checkbox"></td>
		                                <td>不允许为空<span></span></td>
	                                </tr>
	                            </tbody>
	                        </table>
	                    </div>
	                </div>
	            </div>
	        </form>
		</div>
		<div style="width: 90%; float: left; margin-top:30px;">
		<div class="l_left news_right" style="margin-left:5%;width:90%">
<!-- 	        <div class="notice_check"> -->
<!-- 	              <p> -->
<!-- 	                  <label>案件名称：</label><input type="text" class="find_input"> -->
<!-- 	                  <label>负责人：</label><select class="find_input"></select> -->
<!-- 	                  <button class="check_btn">查询</button> -->
<!-- 	              </p> -->
<!-- 	        </div> -->
       		<div class="clear"></div>
	        <div class="notice_check">
	            <div class="notice_nav r_right paddingBotme">
	                <P>
	                <a class="btn btn-default" onclick=""><span class="glyphicon glyphicon-pencil"></span>批量处理</a>
	                <a class="btn btn-default"><span class="glyphicon glyphicon-remove"></span>批量删除</a>
	                </P>
	            </div>
	        </div>
	            <div class="clear"></div>

	        <ul class="news_table department_table">
	            <li>
	            	<div style="width: calc(100% - 5px);overflow-x: scroll;white-space: nowrap;">
	                	<table id="table" class="table_style"></table>
	            	</div>
	            </li>
	        </ul>

	    <div class="clear"></div>
	    </div>
    </div>
    <div class="tree_left last_treeLeft">
        <div class="l_left" style="width: 60%;margin:6px 0.5% 0 0.5%;">
            <table id="table" class="table_style" style="margin: 0 auto" > </table>
        </div>
        <div class="l_left" style="width: 39%;border-left:1px #ccc solid;height: 400px;overflow: hidden">
            <div id="allmap" style="width: 100%;height: 100%"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div class="notice_bot">
    <div class="l_left"><input type="checkbox" checked="checked"/>保存并关闭窗口</div>
    <div class="r_right but_p"><button class="but_save" style="background-color: #3370B7;"  onclick="importMapping()">导入</button><button class="but_close" style="background-color: #3370B7;"  onclick="Cancel()">关闭</button></div>
</div>
<script src="js/jquery-2.2.0.min.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=5ieMMexWmzB9jivTq6oCRX9j"></script>
<script src="js/bstable/js/bootstrap.min.js"></script>
<script src="js/bstable/js/bootstrap-table.js"></script>
<script src="js/bstable/js/bootstrap-table-zh-CN.min.js"></script>
<script type="text/javascript" src="js/date/js/laydate.js"></script>
<script src="js/layer_v2.1/layer/layer.js"></script>
<script src="js/baidu.js"></script>

<script>
    var hour=0,minute=0;
    var week=[],month=[];
    $(function(){
        table();
        nav();
        $("body").click(function(){
            $(".time").hide();
            $(".time1").hide()
        });
        $(".time>div>button").each(function(index){
            $(this).click(function(event){
                event.stopPropagation();
                hour=0;
                minute=0;
                $(".minuteVal").val("00");
                $(".hourVal").val("00");
                $(".time-main>div").eq(index).show().siblings("div").hide().stop();
            })
        });
        $(".week ul li").each(function(index){
            $(this).click(function(event){
                event.stopPropagation();
                if($(this).is(".weekActive")){
                    $(this).removeClass("weekActive");
                    week.splice($.inArray(index+1,week),1);
                }else{
                    $(this).addClass("weekActive");
                    week.push(index+1);
                }
            })
        });
        $(".month ul li").each(function(index){
            $(this).click(function(event){
                event.stopPropagation();
                if($(this).is(".monthActive")){
                    $(this).removeClass("monthActive");
                    month.splice($.inArray(index+1,month),1);
                }else{
                    $(this).addClass("monthActive");
                    month.push(index+1);
                }
            })
        });
        $(".work-time").click(function(event){
            event.stopPropagation();
            $(".time").show()
        });
        $(".time-time").click(function(event){
            event.stopPropagation();
            $(".time1").show()
        })
    });
    function init(){
        var hourHtml="",minuteHtml="";
        for(var i= 0;i<24;i++){
            if(i<10){
                hourHtml+="<li>"+"0"+i+"</li>"
            }else{
                hourHtml+="<li>"+i+"</li>"
            }

        }
        for(var j= 0;j<60;j++){
            if(j<10){
                minuteHtml+="<li>"+"0"+j+"</li>"
            }else{
                minuteHtml+="<li>"+j+"</li>"
            }

        }
        $(".hourUl").append(hourHtml);
        $(".minuteUl").append(minuteHtml);
        $(".day>div").each(function(){
            $(this).find("a").click(function(){
                $(this).siblings("ul").slideDown().parent().siblings("div").find("ul").hide();
            });
            $(this).find("ul>li").each(function(){
                $(this).click(function(){
                    $(this).parent("ul").hide();
                    $(this).parent().siblings("a").html($(this).html());
                })

            })
        });
    }
    function nav(){
        $(".warrant_nav ul li").each(function(index){
            $(this).click(function(){
                $(".warrant_nav ul li").removeClass("warrant_active");
                $(this).addClass("warrant_active");
                $(".warrant_main .tree_left").eq(index).show().siblings(".tree_left").stop().hide();
            })
        })
    }
    function table(){
        $('#table').bootstrapTable({
            method: "get",
            url: "json/transaction.json",
            striped: true,
            singleSelect: false,
            dataType: "json",
            pagination: true, //分页
            pageSize: 7,
            pageNumber: 1,
            search: false, //显示搜索框
            contentType: "application/x-www-form-urlencoded",
            queryParams: false,
            columns: [
                {
                    checkbox: "true",
                    field: 'check',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '案件编号',
                    field: 'id',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '账号',
                    field: 'num',
                    align: 'center',
                    valign: 'middle'
                },

                {
                    title: '账户名称',
                    field: 'name',
                    align: 'center',
                    valign: 'middle'
                },

                {
                    title: '交易金额',
                    field: 'amt',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '借贷标识',
                    field: 'flag',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '交易时间',
                    field: 'time',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '对方账号',
                    field: 'num2',
                    align: 'center',
                    valign: 'middle'
                },
                {
                    title: '对方账户名',
                    field: 'name2',
                    align: 'center',
                    valign: 'middle'
                }
            ]
        });
    }
    function time1(event){
        event.stopPropagation();
    }
    function Cancel() {
        var index = parent.layer.getFrameIndex(window.name);
        parent.layer.close(index);
    }
    function save(){
        layer.msg('数据提交中', {
            icon: 16,
            shade: 0.01,
            time: 20000
        });
        setTimeout(function(){
            layer.closeAll('dialog');
        }, 3000);
    }
    !function(){
        laydate.skin('danlan');//切换皮肤，请查看skins下面皮肤库
        laydate({elem: '#time'});//绑定元素
    }();
    function weekSave(){
        var Html="";
        var htmlWeek="week:";
        var htmlMonth="month:";
        var htmlMyself = "myself:";

        htmlWeek += week.toString();
        htmlMonth += month.toString();
        htmlMyself+=$("#time").val();
        if(week.length>0){
            Html += htmlWeek +";";
        }
        if(month.length>0){
            Html += htmlMonth +";";
        }
        if($("#time").val()){
            Html += htmlMyself +";";
        }
        $(".work-time").val(Html);
        removeWeek()
    }
    function timeSave(){
        var Html="";
        var htmlDay = "";
        htmlDay+= $("#starHour").html()+":"+$("#starMinute").html()+" 至 "+$("#endHour").html()+":"+$("#endMinute").html();
        if($("#starHour").val() != "00"){
            Html += htmlDay;
        }
        $(".time-time").val(Html);
        removeTime()
    }
    function removeWeek(){
        $(".time").hide()
    }
    function removeTime(){
        $(".time1").hide()
    }

</script>
</body>
</html>
